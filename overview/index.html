


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <meta name="author" content="The Tremor Team">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-5.1.3">
    
    
      
        <title>Architecture Overview - Tremor Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.62d34fff.min.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/palette.c8acc6db.min.css">
      
      
        
        
        <meta name="theme-color" content="">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    <body dir="ltr" data-md-color-primary="black" data-md-color-accent="indigo">
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#architecture-overview" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href=".." title="Tremor Documentation" class="md-header-nav__button md-logo" aria-label="Tremor Documentation">
      
  <img src="../img/logo.png" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z" /></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Tremor Documentation
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Architecture Overview
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z" /></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z" /></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z" /></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/wayfair-tremor/tremor-www-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    wayfair-tremor/tremor-www-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Tremor Documentation" class="md-nav__button md-logo" aria-label="Tremor Documentation">
      
  <img src="../img/logo.png" alt="logo">

    </a>
    Tremor Documentation
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/wayfair-tremor/tremor-www-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    wayfair-tremor/tremor-www-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Architecture Overview
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3,9H17V7H3V9M3,13H17V11H3V13M3,17H17V15H3V17M19,17H21V15H19V17M19,7V9H21V7H19M19,13H21V11H19V13Z" /></svg>
        </span>
      </label>
    
    <a href="./" title="Architecture Overview" class="md-nav__link md-nav__link--active">
      Architecture Overview
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#scope" class="md-nav__link">
    Scope
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#goodness-of-fit" class="md-nav__link">
    Goodness of fit
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tremor-urls" class="md-nav__link">
    Tremor URLs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#runtime-model" class="md-nav__link">
    Runtime model
  </a>
  
    <nav class="md-nav" aria-label="Runtime model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#threading-model" class="md-nav__link">
    Threading model
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#actor-model" class="md-nav__link">
    Actor model
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#event-ordering" class="md-nav__link">
    Event ordering
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pipeline-model" class="md-nav__link">
    Pipeline Model
  </a>
  
    <nav class="md-nav" aria-label="Pipeline Model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dataflow" class="md-nav__link">
    Dataflow
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#signalflow" class="md-nav__link">
    SignalFlow
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#contraflow" class="md-nav__link">
    Contraflow
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#runtime-facilities" class="md-nav__link">
    Runtime facilities
  </a>
  
    <nav class="md-nav" aria-label="Runtime facilities">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#conductor" class="md-nav__link">
    Conductor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metrics" class="md-nav__link">
    Metrics
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-model" class="md-nav__link">
    Data model
  </a>
  
    <nav class="md-nav" aria-label="Data model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#distribution-model" class="md-nav__link">
    Distribution model
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clientserver" class="md-nav__link">
    Client/Server
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Tremor Query
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Tremor Query" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Tremor Query
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../tremor-query/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tremor-query/walkthrough/" title="Walkthrough" class="md-nav__link">
      Walkthrough
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-3" type="checkbox" id="nav-3-3">
    
    <label class="md-nav__link" for="nav-3-3">
      Aggregate Function Reference
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Aggregate Function Reference" data-md-level="2">
      <label class="md-nav__title" for="nav-3-3">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Aggregate Function Reference
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../tremor-query/functions/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tremor-query/functions/stats/" title="stats" class="md-nav__link">
      stats
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tremor-query/functions/win/" title="win" class="md-nav__link">
      win
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tremor-query/recipes/" title="Recipes" class="md-nav__link">
      Recipes
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Tremor Script
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Tremor Script" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Tremor Script
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../tremor-script/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tremor-script/modules/" title="Modules" class="md-nav__link">
      Modules
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tremor-script/pp/" title="Lexical Preprocessor" class="md-nav__link">
      Lexical Preprocessor
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-4" type="checkbox" id="nav-4-4">
    
    <label class="md-nav__link" for="nav-4-4">
      Function Reference
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Function Reference" data-md-level="2">
      <label class="md-nav__title" for="nav-4-4">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Function Reference
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../tremor-script/functions/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tremor-script/stdlib/std/" title="std" class="md-nav__link">
      std
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tremor-script/stdlib/std/array/" title="std::array" class="md-nav__link">
      std::array
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tremor-script/stdlib/std/float/" title="std::float" class="md-nav__link">
      std::float
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tremor-script/stdlib/std/integer/" title="std::integer" class="md-nav__link">
      std::integer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tremor-script/stdlib/std/json/" title="std::json" class="md-nav__link">
      std::json
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tremor-script/stdlib/std/math/" title="std::math" class="md-nav__link">
      std::math
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tremor-script/stdlib/std/random/" title="std::random" class="md-nav__link">
      std::random
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tremor-script/stdlib/std/range/" title="std::range" class="md-nav__link">
      std::range
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tremor-script/stdlib/std/re/" title="std::re" class="md-nav__link">
      std::re
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tremor-script/stdlib/std/record/" title="std::record" class="md-nav__link">
      std::record
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tremor-script/stdlib/std/string/" title="std::string" class="md-nav__link">
      std::string
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tremor-script/stdlib/std/test/" title="std::test" class="md-nav__link">
      std::test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tremor-script/stdlib/std/type/" title="std::type" class="md-nav__link">
      std::type
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tremor-script/stdlib/tremor/" title="tremor" class="md-nav__link">
      tremor
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tremor-script/stdlib/tremor/chash/" title="tremor::chash" class="md-nav__link">
      tremor::chash
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tremor-script/stdlib/tremor/origin/" title="tremor::origin" class="md-nav__link">
      tremor::origin
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tremor-script/stdlib/tremor/system/" title="tremor::system" class="md-nav__link">
      tremor::system
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-5" type="checkbox" id="nav-4-5">
    
    <label class="md-nav__link" for="nav-4-5">
      Extractor Reference
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Extractor Reference" data-md-level="2">
      <label class="md-nav__title" for="nav-4-5">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Extractor Reference
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../tremor-script/extractors/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tremor-script/extractors/base64/" title="Base64" class="md-nav__link">
      Base64
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tremor-script/extractors/cidr/" title="CIDR" class="md-nav__link">
      CIDR
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tremor-script/extractors/datetime/" title="Datetime" class="md-nav__link">
      Datetime
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tremor-script/extractors/dissect/" title="Dissect" class="md-nav__link">
      Dissect
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tremor-script/extractors/glob/" title="Glob" class="md-nav__link">
      Glob
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tremor-script/extractors/grok/" title="Grok" class="md-nav__link">
      Grok
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tremor-script/extractors/influx/" title="Influx" class="md-nav__link">
      Influx
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tremor-script/extractors/json/" title="JSON" class="md-nav__link">
      JSON
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tremor-script/extractors/kv/" title="KV" class="md-nav__link">
      KV
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tremor-script/extractors/regex/" title="Regex" class="md-nav__link">
      Regex
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tremor-script/recipes/" title="Recipes" class="md-nav__link">
      Recipes
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Operations
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Operations" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Operations
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../operations/configuration/" title="Configuration" class="md-nav__link">
      Configuration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../operations/monitoring/" title="Monitoring" class="md-nav__link">
      Monitoring
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../operations/cli/" title="Tremor Tool" class="md-nav__link">
      Tremor Tool
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../operations/configuration-walkthrough/" title="Configuration Walkthrough" class="md-nav__link">
      Configuration Walkthrough
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Artefacts
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Artefacts" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Artefacts
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../artefacts/preprocessors/" title="Preprocessors" class="md-nav__link">
      Preprocessors
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../artefacts/postprocessors/" title="Postprocessors" class="md-nav__link">
      Postprocessors
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../artefacts/codecs/" title="Codecs" class="md-nav__link">
      Codecs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../artefacts/onramps/" title="Onramps" class="md-nav__link">
      Onramps
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../artefacts/offramps/" title="Offramps" class="md-nav__link">
      Offramps
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../artefacts/operators/" title="Operators" class="md-nav__link">
      Operators
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Development
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Development" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Development
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../development/quick-start/" title="Quick Start Guide" class="md-nav__link">
      Quick Start Guide
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../development/profiling/" title="Profiling" class="md-nav__link">
      Profiling
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../development/debugging/" title="Debugging with LLDB" class="md-nav__link">
      Debugging with LLDB
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7-4" type="checkbox" id="nav-7-4">
    
    <label class="md-nav__link" for="nav-7-4">
      Benchmarking
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Benchmarking" data-md-level="2">
      <label class="md-nav__title" for="nav-7-4">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Benchmarking
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../development/benchmarking/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../development/benchmarks/LogstashBenchmark/" title="Logstash" class="md-nav__link">
      Logstash
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../development/testing/" title="Testing" class="md-nav__link">
      Testing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../development/issue-investigation/" title="Investigation" class="md-nav__link">
      Investigation
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../api/" title="API" class="md-nav__link">
      API
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../history/" title="History" class="md-nav__link">
      History
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Glossary/" title="Glossary" class="md-nav__link">
      Glossary
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11">
    
    <label class="md-nav__link" for="nav-11">
      Governance
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Governance" data-md-level="1">
      <label class="md-nav__title" for="nav-11">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Governance
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../CodeOfConduct/" title="Code of Conduct" class="md-nav__link">
      Code of Conduct
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Contributing/" title="Contributing" class="md-nav__link">
      Contributing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../CII/" title="Core Infrastructure Initiative" class="md-nav__link">
      Core Infrastructure Initiative
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../policies/security/" title="Security" class="md-nav__link">
      Security
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#scope" class="md-nav__link">
    Scope
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#goodness-of-fit" class="md-nav__link">
    Goodness of fit
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tremor-urls" class="md-nav__link">
    Tremor URLs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#runtime-model" class="md-nav__link">
    Runtime model
  </a>
  
    <nav class="md-nav" aria-label="Runtime model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#threading-model" class="md-nav__link">
    Threading model
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#actor-model" class="md-nav__link">
    Actor model
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#event-ordering" class="md-nav__link">
    Event ordering
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pipeline-model" class="md-nav__link">
    Pipeline Model
  </a>
  
    <nav class="md-nav" aria-label="Pipeline Model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dataflow" class="md-nav__link">
    Dataflow
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#signalflow" class="md-nav__link">
    SignalFlow
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#contraflow" class="md-nav__link">
    Contraflow
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#runtime-facilities" class="md-nav__link">
    Runtime facilities
  </a>
  
    <nav class="md-nav" aria-label="Runtime facilities">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#conductor" class="md-nav__link">
    Conductor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metrics" class="md-nav__link">
    Metrics
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-model" class="md-nav__link">
    Data model
  </a>
  
    <nav class="md-nav" aria-label="Data model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#distribution-model" class="md-nav__link">
    Distribution model
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clientserver" class="md-nav__link">
    Client/Server
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/wayfair-tremor/tremor-www-docs/edit/master/docs/overview.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z" /></svg>
                  </a>
                
                
                  
                
                
                <h1 id="architecture-overview">Architecture Overview<a class="headerlink" href="#architecture-overview" title="Permanent link">&para;</a></h1>
<p>This is a short architectural overview of tremor</p>
<h2 id="scope">Scope<a class="headerlink" href="#scope" title="Permanent link">&para;</a></h2>
<p>We cover the runtime, data and distribution model of tremor from 50,000 feet.</p>
<h2 id="goodness-of-fit">Goodness of fit<a class="headerlink" href="#goodness-of-fit" title="Permanent link">&para;</a></h2>
<p>Tremor is designed for high volume messaging environments and is good for:</p>
<ul>
<li>Man in the middle bridging - Tremor is designed to bridge asynchronous upstream sources with synchronous downstream sinks. More generally, tremor excels at intelligently bridging from sync/async to async/sync so that message flows can be classified, dimensioned, segmented, routed using user defined logic whilst providing facilities to handle back-pressure and other hard distributed systems problems on behalf of its operators.</li>
<li>For example - Log data distributed from Kafka to ElasticSearch via Logstash can introduce significant lag or delays as logstash becomes a publication bottleneck. Untimely, late delivery of log data to the network operations centre under severity zero or at/over capacity conditions reduces our ability to respond to major outage and other byzantine events in a timely fashion.</li>
<li>In-flight redeployment - Tremor can be reconfigured via it's API allowing workloads to be migrated to/from new systems and logic to be retuned, reconfigured, or reconditioned without redeployment.</li>
<li>Simple event processing - Tremor adopts many principles from DEBS ( Distributed Event Based Systems ), ESP ( Event Stream Processor ) and the CEP ( Complex Event Processing ) communities. However in its current state of evolution tremor has an incomplete feature set in this regard. Over time tremor MAY evolve as an ESP or CEP solution but this is an explicit non-goal of the project.</li>
</ul>
<h2 id="tremor-urls">Tremor URLs<a class="headerlink" href="#tremor-urls" title="Permanent link">&para;</a></h2>
<p>Since tremor v0.4, all internal artefacts and running instances of <strong>onramps</strong>, <strong>offramps</strong> and <strong>pipelines</strong> are dynamically configurable. The introduction of a dynamically configurable deployment model has resulted in the introduction of Tremor URLs.</p>
<p>The tremor API is built around this URL and the configuration space it enshrines:</p>
<table>
<thead>
<tr>
<th>Example URL</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>tremor://localhost:9898/</code></td>
<td>A local tremor instance<br /><em> Accessible on the local host<br /></em> REST API on port 9898 of the local host</td>
</tr>
<tr>
<td><code>tremor:///</code></td>
<td>The current tremor instance or 'self'</td>
</tr>
<tr>
<td><code>tremor:///pipeline</code></td>
<td>A list of pipelines</td>
</tr>
<tr>
<td><code>tremor:///pipeline/bob</code></td>
<td>The pipeline identified as bob</td>
</tr>
<tr>
<td><code>tremor:///onramp/alice</code></td>
<td>The onramp identified as Alice</td>
</tr>
<tr>
<td><code>tremor:///binding/talk</code></td>
<td>A binding that allows alice and bob to connect</td>
</tr>
<tr>
<td><code>tremor:///binding/talk/tls</code></td>
<td>An active conversation or instance of a talk between alice and bob</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>The tremor REST API and configuration file formats also follow the same URL format.</p>
<p>In the case of configuration, a shorthand URL form is often used. In the configuration model, we discriminate artefacts by type, so it is often sufficient to infer the <code>tremor:///{artefact-kind}</code> component when specifying ( configuring ) artefacts.</p>
<p>In bindings, however, we minimally need to use the full URL path component  ( for example:<code>/pipeline/01</code> ).</p>
<p>At this time, the full URL form is not used in the configuration model.</p>
<h2 id="runtime-model">Runtime model<a class="headerlink" href="#runtime-model" title="Permanent link">&para;</a></h2>
<p>The tremor runtime is composed of multiple internal components that communicate via queues across multiple threads of control managed/coordinated by a set of control plane actors driven by the tremor REST API.</p>
<h3 id="threading-model">Threading model<a class="headerlink" href="#threading-model" title="Permanent link">&para;</a></h3>
<p>Tremor is a multi-threaded client-server system.</p>
<p>Currently, the threading model is simplistic:</p>
<ul>
<li>A thread is spawned per onramp</li>
<li>A thread is spawned per offramp</li>
<li>A thread is spawned per pipeline</li>
<li>Threads communicate via queues</li>
</ul>
<p>This is sufficient for tremor's primary use case as a log and metrics event processing system. In this and similar cases there are, and will only ever be, a small number of live onramps, pipelines and offramps.</p>
<p>The threading model is very likely to evolve over time as concurrency, threading and other primitives available in the rust ecosystem mature and evolve.</p>
<h3 id="actor-model">Actor model<a class="headerlink" href="#actor-model" title="Permanent link">&para;</a></h3>
<p>Tremor exploits the Actor model for supervision, management and providing essential control plane services such as supporting the tremor API and lifecycle management of onramps, pipelines and offramps.</p>
<p>As tremor is Rust-based, we have adopted the <code>actix</code> and <code>actix-web</code> projects which provide tremor with a good enough actor based system to supervise and manage facilities within tremor that are off the performance critical path.</p>
<h2 id="event-ordering">Event ordering<a class="headerlink" href="#event-ordering" title="Permanent link">&para;</a></h2>
<p>Events generally flow from onramps, where they are ingested into the system, through pipelines, into offramps where they are pushed to external systems.</p>
<p>Tremor imposes causal event ordering over ingested events and processes events deterministically. This does not mean that tremor imposes a total ordering over all ingested events, however ( ugh, because that is not tractable in a distributed system ).</p>
<p>Events flowing into tremor from multiple onramps are considered independant. Events flowing from multiple clients into tremor are also considered independant.</p>
<p>However, events sent by a <em>specific</em> client through a <em>specific</em> onramp into a <em>passthrough</em> pipeline would flow through tremor in their origin order and be passed to offramps in the same <em>origin</em> order.</p>
<p>Requests from multiple independent sources over the same pipeline may arbitrarily interleave, but should not re-order.</p>
<p>In pipelines, events are processed in depth first order. Where tremor operators have no intrinsic ordering ( such as a branch split ), tremor internally <em>imposes</em> an order.</p>
<p>Operator's may <em>arbitrarily</em> reorder messages. For example, a windowed operator might batch multiple events into a single batch. An iteration operator could reverse the batch and forward individual unbatched events in an order that is the reverse of the original ingest order for that batch of events.</p>
<p>However, the engine itself does not re-order events. Events are handled and processed in a strictly deterministic order by design.</p>
<h2 id="pipeline-model">Pipeline Model<a class="headerlink" href="#pipeline-model" title="Permanent link">&para;</a></h2>
<p>The core processing model of tremor is based on a directed-acyclic-graph based dataflow model.</p>
<p>Tremor pipelines are a graph of vertices ( nodes, or operators ) with directed edges ( or connections, or links ) between operators in the graph.</p>
<p>Events from the outside world in a tremor pipeline can only flow in one direction from inputs ( special operators that connect pipeline operators to onramps ) via operators to outputs ( special operators that connect pipeline operators to offramps).</p>
<p>Operators process events and may produce <strong>zero or many</strong> output events for each event processed by the operator. As operators are the primary building block of tremor processing logic they are designed for extension.</p>
<p>Tremor pipelines understand three different types of events:</p>
<ul>
<li>Data events - these are data events delivered via onramps into a pipeline or to offramps from a pipeline. Most events that flow through a tremor pipeline are of this type.</li>
<li>Signal events - these are synthetic events delivered by the tremor runtime into a pipeline under certain conditions.</li>
<li>Contraflow events - these are synthetic events delivered the tremor runtime into a pipeline under certain conditions that are caused by the processing of events already in a tremor system. Back-pressure events exploit contraflow.</li>
</ul>
<h3 id="dataflow">Dataflow<a class="headerlink" href="#dataflow" title="Permanent link">&para;</a></h3>
<p>Data-flow events are the bread and butter of tremor.</p>
<p>These are line of business data events ingested via onramps from external upstream systems, processed through pipelines and published downstream via offramps to downstream external systems.</p>
<h3 id="signalflow">SignalFlow<a class="headerlink" href="#signalflow" title="Permanent link">&para;</a></h3>
<p>Transparent to pipeline authors, but visible to onramp, offramp and operator developers are signal events. Signal events are synthetic events generated by the tremor-runtime and system that can be exploited by operators for advanced event handling purposes.</p>
<h3 id="contraflow">Contraflow<a class="headerlink" href="#contraflow" title="Permanent link">&para;</a></h3>
<p>A core conceit with distributed event-based systems arrizes due to their typically asynchronous nature. Tremor employs a relatively novel algorithm to handle back-pressure or other events that propagate <em>backwards</em> through a pipeline.</p>
<p>But pipelines are directed-acyclic-graphs ( DAGs ), so how do we back-propagate events without introducing cycles?</p>
<p>The answer is simple:</p>
<ul>
<li>There can be no cycles in a DAG</li>
<li>DAGS are traversed in depth-first-search ( DFS ) order</li>
<li>There can be no cycles in a DAG traversed in reverse-DFS order.</li>
<li>If we join a DAG d, with its mirrored ( reversed ) DAG d'</li>
<li>We get another DAG where<ul>
<li>Every output in the DAG d, can continue propagating events in its reverse DAG d', without cycles though its d' mirrored input</li>
<li>Branches in DAG d, become Combinators in DAG d'</li>
<li>Combinators in DAG d, become Branches in DAG d'</li>
<li>Any back-pressure or other events detected in the processing of existing events can result in a synthetic signalling event being injected into the reverse-DAG.</li>
</ul>
</li>
<li>We call the injected events 'contraflow' events because they move <em>backwards</em> against the primary data flow.</li>
<li>The cost or overhead of not injecting a contraflow event is zero</li>
<li>The cost or overhead of an injected contraflow event ( in tremor ) is minimised through pruning - for example - operators that are not contraflow aware do not need to receive or process contraflow events - tremor optimises for this case.</li>
<li>We call the output-input pairs at the heart of contraflow the 'pivot point'</li>
</ul>
<p>Contraflow has been used in other event processing systems and was designed /inventedby one of the members of the tremor core team ( in a previous life ).</p>
<p>There are many other ways to handle back-pressure ( for example: those used by Spark, Storm, Hazelcast Jet, â€¦ ) but they are biasing for other nuances and tradeoffs than tremor. Contraflow is far simpler to reason about and develop verifiable systems and code against as a user and puts a lot of the pressure for a good solution onto the tremor project itself. Only time will tell
which philosophy results in less pager duty!</p>
<p>Although the contraflow mechanism <em>may</em> seem complex, its far simpler than back-pressure handling by almost all other reasonable mechanisms and with far fewer negative side-effects and tradeoffs.</p>
<h2 id="runtime-facilities">Runtime facilities<a class="headerlink" href="#runtime-facilities" title="Permanent link">&para;</a></h2>
<p>Tremor's runtime is composed of a number of facilities that work together to provide service.</p>
<h3 id="conductor">Conductor<a class="headerlink" href="#conductor" title="Permanent link">&para;</a></h3>
<p>The tremor API is a REST based API that allows tremor operators to manage the lifecycle of onramps, offramps and pipelines deployed into a tremor based system.</p>
<p>The set of facilities in the runtime that are related to service lifecycle, activation and management are often referred to collectively as the tremor conductor or tremor control plane.</p>
<p>These terms can be used interchangeably.</p>
<p>Operators CAN conduct or orchestrate one or many tremor servers through its REST based API. The REST API is implemented as an actor in the tremor runtime.</p>
<p>The API actor in turn interfaces with registry and repository facilities. Tremor distinguishes between artefacts and instances. Artefacts in tremor have no runtime overhead.</p>
<p>Artefacts in tremor are declarative specifications of:</p>
<ul>
<li>Onramps - An onramp specification is a specific configuration of a supported onramp kind</li>
<li>Offramps - An offramp specification is a specific configuration of a supported offramp kind</li>
<li>Pipelines - A pipeline specification is a specific configuration of a pipeline graph</li>
<li>Bindings - A binding specification describes how onramps, pipelines and offramps should be interconnected</li>
</ul>
<p>Artefacts can be thought of analagously to code. They are a set of instructions, rules or configurations. As such they are registered with tremor via its API and stored in tremor's artefact repository.</p>
<p>Deployment in tremor, is achieved through a mapping artefact. The mapping artefact specifies how artefacts should be deployed into one or many runtime instances, activated, and connected to live instances of onramps or offramps.</p>
<p>In tremor, publishing a mapping results in instances being deployed as a side-effect. By unpublishing or deleting a mapping instances are undeployed as a side-effect.</p>
<h3 id="metrics">Metrics<a class="headerlink" href="#metrics" title="Permanent link">&para;</a></h3>
<p>Metrics in tremor are implemented as a pipeline and deployed during startup.</p>
<p>Metrics are builtin and can not be undeployed.</p>
<p>Operators <strong>MAY</strong> attach offramps to the metrics service to distribute metrics to external systems, such as InfluxDB or Kafka.</p>
<h2 id="data-model">Data model<a class="headerlink" href="#data-model" title="Permanent link">&para;</a></h2>
<p>Tremor supports unstructured data.</p>
<p>Data can be raw binary, JSON, MsgPack, Influx or other structures.</p>
<p>When data is ingested into a tremor pipeline it can be any <strong>supported</strong> format.</p>
<p>Tremor pipeline operators however, often assume <em>some</em> structure. For heirarchic or nested formats such as JSON and MsgPack, tremor uses the <code>serde</code> serialisation and deserialisation capabilities.</p>
<p>Therefore, the <em>in-memory</em> format for <em>JSON-like</em> data in tremor is effectively a <code>simd_json::Value</code>. This has the advantage of allowing tremor-script to work against YAML, JSON or MsgPack data with no changes or considerations in the tremor-script based on the origin data format.</p>
<p>For line oriented formats such as the Influx Line Protocol, or GELF these are typically transformed to tremor's in-memory format ( currently based on <code>serde</code>).</p>
<p>For raw binary or other data formats, tremor provides a growing set of codecs that convert external data to tremor in-memory form or that convert tremor in-memory form to an external data format.</p>
<p>In general, operators and developers should <em>minimize</em> the number of encoding and decoding steps required in the transit of data through tremor or between tremor instances.</p>
<p>The major overhead in most tremor systems is encoding and decoding overhead. To compensate that, as as JSON is the most dominent format, we <a href="https://github.com/simd-lite/simdjson-rs">ported</a> <a href="https://github.com/lemire/simdjson">sims-json</a> this reduces the cost of en- and decoding significantly compared to other JSON implementations in Rust.</p>
<h3 id="distribution-model">Distribution model<a class="headerlink" href="#distribution-model" title="Permanent link">&para;</a></h3>
<p>Tremor does not ( yet ) have an out-of-the-box network protocol. A native tremor protocol is planned in the immediate / medium term.</p>
<p>As such, the distribution model for tremor is currently limited to the set of available onramp and offramp connectors.</p>
<p>However the websocket <a href="../artefacts/onramps/#ws">onramp</a> and <a href="../artefacts/offramps/#ws">offramp</a> can be used for tremor to tremor communication.</p>
<h3 id="clientserver">Client/Server<a class="headerlink" href="#clientserver" title="Permanent link">&para;</a></h3>
<p>Tremor, in its current form, is a client-server system. Tremor exposes a synchronous blocking RESTful API over HTTP for conducting operations related to its high throughput and relatively high performance pipeline-oriented data plane.</p>
<p>Tremor, in the near future, will add a clustering capability making it a distributed system. Tremor will still support client-server deployments through a 'standalone' mode of clustered operation.</p>
<p>Tremor in 'standalone' mode can be thought of as client-server or a 'cluster of one' depending on your own bias or preferences, dear reader.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href=".." title="Home" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Home
              </div>
            </div>
          </a>
        
        
          <a href="../tremor-query/" title="Overview" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Overview
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z" /></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.f81b9e8b.min.js"></script>
      <script src="../assets/javascripts/bundle.23546af0.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: [],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.58d22e8e.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>