
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <meta name="author" content="The Tremor Team">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.1.3">
    
    
      
        <title>HTTP Load Balancing - Tremor Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.e35208c4.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ef6f36e2.min.css">
        
          
          
          <meta name="theme-color" content="#000000">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="black" data-md-color-accent="indigo">
  
    
    <script>function __prefix(e){return new URL("../../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#reverse-proxy-with-load-balancing" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Tremor Documentation" class="md-header__button md-logo" aria-label="Tremor Documentation" data-md-component="logo">
      
  <img src="../../../img/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Tremor Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              HTTP Load Balancing
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/tremor-rs/tremor-www-docs/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    tremor-rs/tremor-www-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Tremor Documentation" class="md-nav__button md-logo" aria-label="Tremor Documentation" data-md-component="logo">
      
  <img src="../../../img/logo.png" alt="logo">

    </a>
    Tremor Documentation
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/tremor-rs/tremor-www-docs/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    tremor-rs/tremor-www-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../overview/" class="md-nav__link">
        Architecture Overview
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      <label class="md-nav__link" for="__nav_3">
        Tremor Query
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Tremor Query" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Tremor Query
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-query/" class="md-nav__link">
        Overview
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-query/operators/" class="md-nav__link">
        Operators
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-query/modules/" class="md-nav__link">
        Modules
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-query/pp/" class="md-nav__link">
        Lexical Preprocessor
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-query/walkthrough/" class="md-nav__link">
        Walkthrough
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_6" type="checkbox" id="__nav_3_6" >
      
      <label class="md-nav__link" for="__nav_3_6">
        Aggregate Function Reference
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Aggregate Function Reference" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_6">
          <span class="md-nav__icon md-icon"></span>
          Aggregate Function Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-query/functions/" class="md-nav__link">
        Overview
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-query/functions/stats/" class="md-nav__link">
        stats
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-query/functions/win/" class="md-nav__link">
        win
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-query/recipes/" class="md-nav__link">
        Recipes
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      <label class="md-nav__link" for="__nav_4">
        Tremor Script
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Tremor Script" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Tremor Script
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-script/" class="md-nav__link">
        Overview
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-script/modules/" class="md-nav__link">
        Modules
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-script/pp/" class="md-nav__link">
        Lexical Preprocessor
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_4" type="checkbox" id="__nav_4_4" >
      
      <label class="md-nav__link" for="__nav_4_4">
        Function Reference
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Function Reference" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_4">
          <span class="md-nav__icon md-icon"></span>
          Function Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-script/functions/" class="md-nav__link">
        Overview
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-script/stdlib/cncf/" class="md-nav__link">
        cncf
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-script/stdlib/tremor/" class="md-nav__link">
        tremor
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-script/stdlib/std/" class="md-nav__link">
        std
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-script/stdlib/std/integer/" class="md-nav__link">
        std::integer
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-script/stdlib/std/range/" class="md-nav__link">
        std::range
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-script/stdlib/std/json/" class="md-nav__link">
        std::json
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-script/stdlib/std/math/" class="md-nav__link">
        std::math
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-script/stdlib/std/string/" class="md-nav__link">
        std::string
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-script/stdlib/std/url/" class="md-nav__link">
        std::url
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-script/stdlib/std/re/" class="md-nav__link">
        std::re
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-script/stdlib/std/base64/" class="md-nav__link">
        std::base64
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-script/stdlib/std/float/" class="md-nav__link">
        std::float
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-script/stdlib/std/binary/" class="md-nav__link">
        std::binary
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-script/stdlib/std/type/" class="md-nav__link">
        std::type
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-script/stdlib/std/random/" class="md-nav__link">
        std::random
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-script/stdlib/std/record/" class="md-nav__link">
        std::record
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-script/stdlib/std/test/" class="md-nav__link">
        std::test
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-script/stdlib/std/array/" class="md-nav__link">
        std::array
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-script/stdlib/tremor/system/" class="md-nav__link">
        tremor::system
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-script/stdlib/tremor/origin/" class="md-nav__link">
        tremor::origin
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-script/stdlib/tremor/chash/" class="md-nav__link">
        tremor::chash
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-script/stdlib/cncf/otel/" class="md-nav__link">
        cncf::otel
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-script/stdlib/cncf/otel/metrics/" class="md-nav__link">
        cncf::otel::metrics
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-script/stdlib/cncf/otel/logs/" class="md-nav__link">
        cncf::otel::logs
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-script/stdlib/cncf/otel/trace_id/" class="md-nav__link">
        cncf::otel::trace_id
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-script/stdlib/cncf/otel/span_id/" class="md-nav__link">
        cncf::otel::span_id
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-script/stdlib/cncf/otel/trace/" class="md-nav__link">
        cncf::otel::trace
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-script/stdlib/cncf/otel/metrics/temporality/" class="md-nav__link">
        cncf::otel::metrics::temporality
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-script/stdlib/cncf/otel/trace/status/" class="md-nav__link">
        cncf::otel::trace::status
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-script/stdlib/cncf/otel/trace/spankind/" class="md-nav__link">
        cncf::otel::trace::spankind
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-script/stdlib/cncf/otel/logs/severity/" class="md-nav__link">
        cncf::otel::logs::severity
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-script/stdlib/cncf/otel/logs/traceflags/" class="md-nav__link">
        cncf::otel::logs::traceflags
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_5" type="checkbox" id="__nav_4_5" >
      
      <label class="md-nav__link" for="__nav_4_5">
        Extractor Reference
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Extractor Reference" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_5">
          <span class="md-nav__icon md-icon"></span>
          Extractor Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-script/extractors/" class="md-nav__link">
        Overview
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-script/extractors/base64/" class="md-nav__link">
        Base64
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-script/extractors/cidr/" class="md-nav__link">
        CIDR
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-script/extractors/datetime/" class="md-nav__link">
        Datetime
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-script/extractors/dissect/" class="md-nav__link">
        Dissect
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-script/extractors/glob/" class="md-nav__link">
        Glob
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-script/extractors/grok/" class="md-nav__link">
        Grok
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-script/extractors/influx/" class="md-nav__link">
        Influx
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-script/extractors/json/" class="md-nav__link">
        JSON
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-script/extractors/kv/" class="md-nav__link">
        KV
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-script/extractors/regex/" class="md-nav__link">
        Regex
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tremor-script/recipes/" class="md-nav__link">
        Recipes
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      <label class="md-nav__link" for="__nav_5">
        Operations
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Operations" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Operations
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../operations/configuration/" class="md-nav__link">
        Configuration
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../operations/monitoring/" class="md-nav__link">
        Monitoring
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../operations/cli/" class="md-nav__link">
        Tremor Tool
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../operations/configuration-walkthrough/" class="md-nav__link">
        Configuration Walkthrough
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../operations/gdcb/" class="md-nav__link">
        Circuit Breakers and Guaranteed Delivery
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../operations/linked-transports/" class="md-nav__link">
        Linked Transports
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      <label class="md-nav__link" for="__nav_6">
        Artefacts
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Artefacts" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Artefacts
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../artefacts/preprocessors/" class="md-nav__link">
        Preprocessors
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../artefacts/postprocessors/" class="md-nav__link">
        Postprocessors
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../artefacts/codecs/" class="md-nav__link">
        Codecs
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../artefacts/onramps/" class="md-nav__link">
        Onramps
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../artefacts/offramps/" class="md-nav__link">
        Offramps
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../api/" class="md-nav__link">
        API
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../history/" class="md-nav__link">
        History
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../Glossary/" class="md-nav__link">
        Glossary
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10" type="checkbox" id="__nav_10" checked>
      
      <label class="md-nav__link" for="__nav_10">
        Workshops
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Workshops" data-md-level="1">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          Workshops
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10_1" type="checkbox" id="__nav_10_1" >
      
      <label class="md-nav__link" for="__nav_10_1">
        Basic examples
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Basic examples" data-md-level="2">
        <label class="md-nav__title" for="__nav_10_1">
          <span class="md-nav__icon md-icon"></span>
          Basic examples
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../00_passthrough/" class="md-nav__link">
        Passthrough
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../01_filter/" class="md-nav__link">
        Filter
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../02_transform/" class="md-nav__link">
        Transform
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../03_validate/" class="md-nav__link">
        Validate
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10_2" type="checkbox" id="__nav_10_2" >
      
      <label class="md-nav__link" for="__nav_10_2">
        Integrations
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Integrations" data-md-level="2">
        <label class="md-nav__title" for="__nav_10_2">
          <span class="md-nav__icon md-icon"></span>
          Integrations
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../10_logstash/" class="md-nav__link">
        Logstash
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../11_influx/" class="md-nav__link">
        Influx
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../12_postgres_timescaledb/" class="md-nav__link">
        Timescale
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../13_grafana/" class="md-nav__link">
        Grafana
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10_3" type="checkbox" id="__nav_10_3" >
      
      <label class="md-nav__link" for="__nav_10_3">
        Delivery Guarantees
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Delivery Guarantees" data-md-level="2">
        <label class="md-nav__title" for="__nav_10_3">
          <span class="md-nav__icon md-icon"></span>
          Delivery Guarantees
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../20_transient_gd/" class="md-nav__link">
        Transient GD
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../21_persistent_gd/" class="md-nav__link">
        Persistent GD
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../22_roundrobin/" class="md-nav__link">
        Round Robin
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../23_kafka_gd/" class="md-nav__link">
        Kafka
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10_4" type="checkbox" id="__nav_10_4" checked>
      
      <label class="md-nav__link" for="__nav_10_4">
        Linked Ramps
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Linked Ramps" data-md-level="2">
        <label class="md-nav__title" for="__nav_10_4">
          <span class="md-nav__icon md-icon"></span>
          Linked Ramps
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../30_servers_lt_http/" class="md-nav__link">
        HTTP Server
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../31_servers_lt_ws/" class="md-nav__link">
        Websocket Server
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../32_proxies_lt_http/" class="md-nav__link">
        HTTP Proxy
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../33_proxies_lt_ws/" class="md-nav__link">
        Websocket Proxy
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../34_bridges_lt_http_ws/" class="md-nav__link">
        HTTP -> WS Bridge
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          HTTP Load Balancing
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        HTTP Load Balancing
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#setting-up-multiple-web-servers-for-testing-purposes" class="md-nav__link">
    Setting up multiple web-servers for testing purposes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setting-up-tremor-as-a-reverse-proxy" class="md-nav__link">
    Setting up Tremor as a reverse proxy
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#start-the-reverse-proxy-and-test-it" class="md-nav__link">
    Start the Reverse Proxy and test it
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../36_quota_service/" class="md-nav__link">
        Quota Service
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../37_configurator/" class="md-nav__link">
        Configurator
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10_5" type="checkbox" id="__nav_10_5" >
      
      <label class="md-nav__link" for="__nav_10_5">
        CNCF
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="CNCF" data-md-level="2">
        <label class="md-nav__title" for="__nav_10_5">
          <span class="md-nav__icon md-icon"></span>
          CNCF
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../40_otel_passthrough/" class="md-nav__link">
        OpenTelemetry Passthrough
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../41_otel_zipkin/" class="md-nav__link">
        Zipkin Interworking
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../42_otel_jaeger/" class="md-nav__link">
        Jaeger Interworking
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../43_otel_prometheus/" class="md-nav__link">
        Prometheus Interworking
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../44_otel_elastic_apm/" class="md-nav__link">
        Elastic APM Interworking
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11" type="checkbox" id="__nav_11" >
      
      <label class="md-nav__link" for="__nav_11">
        Development
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Development" data-md-level="1">
        <label class="md-nav__title" for="__nav_11">
          <span class="md-nav__icon md-icon"></span>
          Development
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/quick-start/" class="md-nav__link">
        Quick Start Guide
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/profiling/" class="md-nav__link">
        Profiling
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/debugging/" class="md-nav__link">
        Debugging with LLDB
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11_4" type="checkbox" id="__nav_11_4" >
      
      <label class="md-nav__link" for="__nav_11_4">
        Benchmarking
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Benchmarking" data-md-level="2">
        <label class="md-nav__title" for="__nav_11_4">
          <span class="md-nav__icon md-icon"></span>
          Benchmarking
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/benchmarking/" class="md-nav__link">
        Overview
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/benchmarks/LogstashBenchmark/" class="md-nav__link">
        Logstash
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/testing/" class="md-nav__link">
        Testing
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/issue-investigation/" class="md-nav__link">
        Investigation
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_12" type="checkbox" id="__nav_12" >
      
      <label class="md-nav__link" for="__nav_12">
        Governance
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Governance" data-md-level="1">
        <label class="md-nav__title" for="__nav_12">
          <span class="md-nav__icon md-icon"></span>
          Governance
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../CodeOfConduct/" class="md-nav__link">
        Code of Conduct
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../Contributing/" class="md-nav__link">
        Contributing
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../CII/" class="md-nav__link">
        Core Infrastructure Initiative
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../policies/security/" class="md-nav__link">
        Security
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#setting-up-multiple-web-servers-for-testing-purposes" class="md-nav__link">
    Setting up multiple web-servers for testing purposes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setting-up-tremor-as-a-reverse-proxy" class="md-nav__link">
    Setting up Tremor as a reverse proxy
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#start-the-reverse-proxy-and-test-it" class="md-nav__link">
    Start the Reverse Proxy and test it
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/tremor-rs/tremor-www-docs/edit/main/docs/workshop/examples/35_reverse_proxy_load_balancing/README.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="reverse-proxy-with-load-balancing">Reverse proxy with Load Balancing<a class="headerlink" href="#reverse-proxy-with-load-balancing" title="Permanent link">&para;</a></h1>
<p>This example shows how to setup tremor as a reverse proxy for HTTP/1.1 that
load balances between multiple upstream servers in a round-robin fashion.</p>
<p>We are going to make use of the new <a href="../../../operations/linked-transports/">linked transport</a> and <em>Quality of Service</em> features in tremor <em>0.9</em>.</p>
<h2 id="setting-up-multiple-web-servers-for-testing-purposes">Setting up multiple web-servers for testing purposes<a class="headerlink" href="#setting-up-multiple-web-servers-for-testing-purposes" title="Permanent link">&para;</a></h2>
<p>We use the server behind <code>https://httpbin.org</code> to have three endpoints ready to proxy to and to inspect what we sent vs. what the upstream servers received.</p>
<p>Three httpbin servers are set up in the accompagnying <code>docker-compose.yml</code>.</p>
<h2 id="setting-up-tremor-as-a-reverse-proxy">Setting up Tremor as a reverse proxy<a class="headerlink" href="#setting-up-tremor-as-a-reverse-proxy" title="Permanent link">&para;</a></h2>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>All the code here is available in the <a href="https://github.com/tremor-rs/tremor-www-docs/tree/main/docs/workshop/examples/35_reverse_proxy_load_balancing">git repository</a> as well.</p>
</div>
<p>To issue incoming HTTP requests to an upstream HTTP server
a <a href="../../../artefacts/onramps/#rest">REST onramp</a> needs to be configured in <code>config.yaml</code> to listen on a port of our choice:</p>
<div class="highlight"><pre><span></span><code><span class="nt">onramp</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">http_in</span>
      <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">rest</span>
      <span class="nt">linked</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span> <span class="c1"># with this (new) setting, this onramp will be able to receive and send out responses to each request</span>
      <span class="nt">codec</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">json</span>
      <span class="nt">config</span><span class="p">:</span>
        <span class="nt">host</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.0.0.0</span>
        <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">65535</span>
</code></pre></div>
<p>To forward received requests to the httpbin upstream servers a <a href="../../../artefacts/offramps/#rest">REST offramp</a> needs to be configured in <code>config.yaml</code> to point at each of it:</p>
<div class="highlight"><pre><span></span><code><span class="nt">offramp</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">upstream01</span>
      <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">rest</span>
      <span class="nt">linked</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
      <span class="nt">codec</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">json</span>
      <span class="nt">config</span><span class="p">:</span>
        <span class="nt">endpoint</span><span class="p">:</span>
          <span class="nt">host</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">webserver01</span>
        <span class="nt">concurrency</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">9</span> <span class="c1"># allo max 9 concurrent in-flight requests</span>
    <span class="p p-Indicator">-</span> <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">upstream02</span>
      <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">rest</span>
      <span class="nt">linked</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
      <span class="nt">codec</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">json</span>
      <span class="nt">config</span><span class="p">:</span>
        <span class="nt">endpoint</span><span class="p">:</span>
          <span class="nt">host</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">webserver02</span>
        <span class="nt">method</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">POST</span> <span class="c1"># set a default method if no $request.method is set</span>
    <span class="p p-Indicator">-</span> <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">upstream03</span>
      <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">rest</span>
      <span class="nt">linked</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
      <span class="nt">codec</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">json</span>
      <span class="nt">config</span><span class="p">:</span>
        <span class="nt">endpoint</span><span class="p">:</span>
          <span class="nt">host</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">webserver03</span>
        <span class="nt">headers</span><span class="p">:</span> <span class="c1"># add some headers</span>
          <span class="s">&quot;X-Upstream&quot;</span><span class="p p-Indicator">:</span> <span class="s">&quot;upstream03&quot;</span>
</code></pre></div>
<p>Then we need to do the actual proxying in a pipeline that receives requests from the <code>http_in</code> onramp, inspects it, manipulates it and forwards it to one of the configured offramps:</p>
<div class="highlight"><pre><span></span><code><span class="kd">define</span><span class="w"> </span><span class="kd">script</span><span class="w"> </span><span class="nx">request_handling</span><span class="w"></span>
<span class="kd">script</span><span class="w"></span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="nx">host</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="kd">match</span><span class="w"> </span><span class="err">$</span><span class="nx">request</span><span class="err">.</span><span class="nx">headers</span><span class="w"> </span><span class="kd">of</span><span class="w"></span>
<span class="w">      </span><span class="kd">case</span><span class="w"> </span><span class="err">%</span><span class="nx">{</span><span class="w"> </span><span class="kd">present</span><span class="w"> </span><span class="nx">host</span><span class="w"> </span><span class="nx">}</span><span class="w"> </span><span class="err">=&gt;</span><span class="w"> </span><span class="err">$</span><span class="nx">request</span><span class="err">.</span><span class="nx">headers</span><span class="err">.</span><span class="nx">host</span><span class="err">[</span><span class="mi">0</span><span class="err">]</span><span class="w"></span>
<span class="w">      </span><span class="kd">default</span><span class="w"> </span><span class="err">=&gt;</span><span class="w"> </span><span class="s">&quot;UNDEFINED&quot;</span><span class="w"></span>
<span class="w">    </span><span class="kd">end</span><span class="err">;</span><span class="w"></span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="nx">forwarded</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="s">&quot;by=localhost:65535;host={host};proto=http&quot;</span><span class="err">;</span><span class="w"></span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="err">$</span><span class="nx">request</span><span class="err">.</span><span class="nx">headers</span><span class="err">[</span><span class="s">&quot;Forwarded&quot;</span><span class="err">]</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="nx">forwarded</span><span class="err">;</span><span class="w"></span>

<span class="w">    </span><span class="c1"># fiddle with the event</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="kc">event</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="kd">patch</span><span class="w"> </span><span class="kc">event</span><span class="w"> </span><span class="kd">of</span><span class="w"></span>
<span class="w">      </span><span class="kd">insert</span><span class="w"> </span><span class="s">&quot;forwarded&quot;</span><span class="w"> </span><span class="err">=&gt;</span><span class="w"> </span><span class="nx">forwarded</span><span class="w"></span>
<span class="w">    </span><span class="kd">end</span><span class="err">;</span><span class="w"></span>

<span class="w">    </span><span class="c1"># set request url parts for forwarding it to the rest offramp</span>
<span class="w">    </span><span class="c1"># stripping out the host and port, as they will be set by the offramp</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="err">$</span><span class="nx">endpoint</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="kd">patch</span><span class="w"> </span><span class="err">$</span><span class="nx">request</span><span class="err">.</span><span class="nx">url</span><span class="w"> </span><span class="kd">of</span><span class="w"></span>
<span class="w">      </span><span class="kd">erase</span><span class="w"> </span><span class="s">&quot;host&quot;</span><span class="err">,</span><span class="w"></span>
<span class="w">      </span><span class="kd">erase</span><span class="w"> </span><span class="s">&quot;port&quot;</span><span class="w"></span>
<span class="w">    </span><span class="kd">end</span><span class="err">;</span><span class="w"></span>

<span class="w">    </span><span class="kc">event</span><span class="err">;</span><span class="w"></span>
<span class="kd">end</span><span class="err">;</span><span class="w"></span>

<span class="c1"># ensure we distribute the load evenly</span>
<span class="kd">define</span><span class="w"> </span><span class="nx">qos</span><span class="err">::</span><span class="nx">roundrobin</span><span class="w"> </span><span class="kd">operator</span><span class="w"> </span><span class="nx">rr</span><span class="w"></span>
<span class="kd">with</span><span class="w"></span>
<span class="w">  </span><span class="nx">outputs</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="err">[</span><span class="s">&quot;ws01&quot;</span><span class="err">,</span><span class="w"> </span><span class="s">&quot;ws02&quot;</span><span class="err">,</span><span class="w"> </span><span class="s">&quot;ws03&quot;</span><span class="err">]</span><span class="w"></span>
<span class="kd">end</span><span class="err">;</span><span class="w"></span>
<span class="kd">create</span><span class="w"> </span><span class="kd">operator</span><span class="w"> </span><span class="nx">rr</span><span class="err">;</span><span class="w"></span>

<span class="c1"># apply backpressure if a server cannot keep up</span>
<span class="c1"># or is not reachable</span>
<span class="kd">define</span><span class="w"> </span><span class="nx">qos</span><span class="err">::</span><span class="nx">backpressure</span><span class="w"> </span><span class="kd">operator</span><span class="w"> </span><span class="nx">bp</span><span class="w"></span>
<span class="kd">with</span><span class="w"></span>
<span class="w">  </span><span class="nx">timeout</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="mi">10000</span><span class="err">,</span><span class="w"> </span><span class="c1"># max timeout before triggering this operator - 10s</span>
<span class="w">  </span><span class="nx">steps</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="err">[</span><span class="mi">100</span><span class="err">,</span><span class="w"> </span><span class="mi">500</span><span class="err">,</span><span class="w"> </span><span class="mi">1000</span><span class="err">,</span><span class="w"> </span><span class="mi">10000</span><span class="err">]</span><span class="w"> </span><span class="c1"># backoff steps in ms</span>
<span class="kd">end</span><span class="err">;</span><span class="w"></span>
<span class="kd">create</span><span class="w"> </span><span class="kd">operator</span><span class="w"> </span><span class="nx">bp01</span><span class="w"> </span><span class="kd">from</span><span class="w"> </span><span class="nx">bp</span><span class="err">;</span><span class="w"></span>
<span class="kd">create</span><span class="w"> </span><span class="kd">operator</span><span class="w"> </span><span class="nx">bp02</span><span class="w"> </span><span class="kd">from</span><span class="w"> </span><span class="nx">bp</span><span class="err">;</span><span class="w"></span>
<span class="kd">create</span><span class="w"> </span><span class="kd">operator</span><span class="w"> </span><span class="nx">bp03</span><span class="w"> </span><span class="kd">from</span><span class="w"> </span><span class="nx">bp</span><span class="err">;</span><span class="w"></span>

<span class="kd">create</span><span class="w"> </span><span class="kd">script</span><span class="w"> </span><span class="nx">request_handling</span><span class="err">;</span><span class="w"></span>

<span class="c1"># wire everything together</span>
<span class="kd">select</span><span class="w"> </span><span class="kc">event</span><span class="w"> </span><span class="kd">from</span><span class="w"> </span><span class="nx">in</span><span class="w"> </span><span class="kd">into</span><span class="w"> </span><span class="nx">request_handling</span><span class="err">;</span><span class="w"></span>
<span class="kd">select</span><span class="w"> </span><span class="kc">event</span><span class="w"> </span><span class="kd">from</span><span class="w"> </span><span class="nx">request_handling</span><span class="w"> </span><span class="kd">into</span><span class="w"> </span><span class="nx">rr</span><span class="err">;</span><span class="w"></span>
<span class="c1"># connect each upstream throught the round-robin operator and a distinct backpressure operator</span>
<span class="kd">select</span><span class="w"> </span><span class="kc">event</span><span class="w"> </span><span class="kd">from</span><span class="w"> </span><span class="nx">rr</span><span class="err">/</span><span class="nx">ws01</span><span class="w"> </span><span class="kd">into</span><span class="w"> </span><span class="nx">bp01</span><span class="err">;</span><span class="w"></span>
<span class="kd">select</span><span class="w"> </span><span class="kc">event</span><span class="w"> </span><span class="kd">from</span><span class="w"> </span><span class="nx">rr</span><span class="err">/</span><span class="nx">ws02</span><span class="w"> </span><span class="kd">into</span><span class="w"> </span><span class="nx">bp02</span><span class="err">;</span><span class="w"></span>
<span class="kd">select</span><span class="w"> </span><span class="kc">event</span><span class="w"> </span><span class="kd">from</span><span class="w"> </span><span class="nx">rr</span><span class="err">/</span><span class="nx">ws03</span><span class="w"> </span><span class="kd">into</span><span class="w"> </span><span class="nx">bp03</span><span class="err">;</span><span class="w"></span>
<span class="c1"># create three outputs - one for each upstream server</span>
<span class="kd">select</span><span class="w"> </span><span class="kc">event</span><span class="w"> </span><span class="kd">from</span><span class="w"> </span><span class="nx">bp01</span><span class="w"> </span><span class="kd">into</span><span class="w"> </span><span class="nx">out</span><span class="err">/</span><span class="nx">ws01</span><span class="err">;</span><span class="w"></span>
<span class="kd">select</span><span class="w"> </span><span class="kc">event</span><span class="w"> </span><span class="kd">from</span><span class="w"> </span><span class="nx">bp02</span><span class="w"> </span><span class="kd">into</span><span class="w"> </span><span class="nx">out</span><span class="err">/</span><span class="nx">ws02</span><span class="err">;</span><span class="w"></span>
<span class="kd">select</span><span class="w"> </span><span class="kc">event</span><span class="w"> </span><span class="kd">from</span><span class="w"> </span><span class="nx">bp03</span><span class="w"> </span><span class="kd">into</span><span class="w"> </span><span class="nx">out</span><span class="err">/</span><span class="nx">ws03</span><span class="err">;</span><span class="w"></span>
<span class="kd">select</span><span class="w"> </span><span class="kc">event</span><span class="w"> </span><span class="kd">from</span><span class="w"> </span><span class="nx">request_handling</span><span class="err">/</span><span class="nx">err</span><span class="w"> </span><span class="kd">into</span><span class="w"> </span><span class="nx">err</span><span class="err">;</span><span class="w"> </span><span class="c1"># report error to its own port</span>
</code></pre></div>
<p>With the <code>qos::roundrobin</code> and <code>qos::backpressure</code> we distribute the load evenly and
back off if a server is overloaded or events continue to fail (result in HTTP status coded &gt;= 400 or are unable to establish a connection etc.).</p>
<p>But this is only half a proxy without response handling getting back from the offramp, which is only now possible with the dawn of <a href="../../../operations/linked-transports/">linked transports</a>. Handling the responses coming back from the upstreams is implemented in the following pipeline:</p>
<div class="highlight"><pre><span></span><code><span class="kd">define</span><span class="w"> </span><span class="kd">script</span><span class="w"> </span><span class="nx">response_handling</span><span class="w"></span>
<span class="kd">script</span><span class="w"></span>
<span class="w">    </span><span class="kd">use</span><span class="w"> </span><span class="nx">std</span><span class="err">::</span><span class="nx">array</span><span class="err">;</span><span class="w"></span>
<span class="w">    </span><span class="kd">use</span><span class="w"> </span><span class="nx">tremor</span><span class="err">::</span><span class="nx">system</span><span class="err">;</span><span class="w"></span>
<span class="w">    </span><span class="c1"># see: https://tools.ietf.org/html/rfc7230#section-5.7.1</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="nx">via_value</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="s">&quot;1.1 </span><span class="nx">#{system</span><span class="err">::</span><span class="nx">hostname</span><span class="err">()</span><span class="nx">}</span><span class="s">/tremor&quot;</span><span class="err">;</span><span class="w"></span>
<span class="w">    </span><span class="kd">match</span><span class="w"> </span><span class="err">$</span><span class="nx">response</span><span class="err">.</span><span class="nx">headers</span><span class="w"> </span><span class="kd">of</span><span class="w"></span>
<span class="w">        </span><span class="kd">case</span><span class="w"> </span><span class="err">%</span><span class="nx">{</span><span class="w"> </span><span class="kd">present</span><span class="w"> </span><span class="nx">via</span><span class="w"> </span><span class="nx">}</span><span class="w"> </span><span class="err">=&gt;</span><span class="w"></span>
<span class="w">            </span><span class="kd">let</span><span class="w"> </span><span class="err">$</span><span class="nx">response</span><span class="err">.</span><span class="nx">headers</span><span class="err">.</span><span class="nx">via</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="nx">array</span><span class="err">::</span><span class="nx">push</span><span class="err">($</span><span class="nx">response</span><span class="err">.</span><span class="nx">headers</span><span class="err">.</span><span class="nx">via</span><span class="err">,</span><span class="w"> </span><span class="nx">via_value</span><span class="err">)</span><span class="w"></span>

<span class="w">        </span><span class="kd">default</span><span class="w"> </span><span class="err">=&gt;</span><span class="w"></span>
<span class="w">            </span><span class="kd">let</span><span class="w"> </span><span class="err">$</span><span class="nx">response</span><span class="err">.</span><span class="nx">headers</span><span class="err">.</span><span class="nx">via</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="nx">via_value</span><span class="w"></span>
<span class="w">    </span><span class="kd">end</span><span class="err">;</span><span class="w"></span>
<span class="w">    </span><span class="kc">event</span><span class="err">;</span><span class="w"></span>
<span class="kd">end</span><span class="err">;</span><span class="w"></span>
<span class="kd">create</span><span class="w"> </span><span class="kd">script</span><span class="w"> </span><span class="nx">response_handling</span><span class="err">;</span><span class="w"></span>

<span class="kd">select</span><span class="w"> </span><span class="kc">event</span><span class="w"> </span><span class="kd">from</span><span class="w"> </span><span class="nx">in</span><span class="w"> </span><span class="kd">into</span><span class="w"> </span><span class="nx">response_handling</span><span class="err">;</span><span class="w"></span>
<span class="kd">select</span><span class="w"> </span><span class="kc">event</span><span class="w"> </span><span class="kd">from</span><span class="w"> </span><span class="nx">response_handling</span><span class="w"> </span><span class="kd">into</span><span class="w"> </span><span class="nx">out</span><span class="err">;</span><span class="w"></span>
<span class="kd">select</span><span class="w"> </span><span class="kc">event</span><span class="w"> </span><span class="kd">from</span><span class="w"> </span><span class="nx">response_handling</span><span class="err">/</span><span class="nx">err</span><span class="w"> </span><span class="kd">into</span><span class="w"> </span><span class="nx">err</span><span class="err">;</span><span class="w"></span>
</code></pre></div>
<p>Here we only set the <code>Via</code> response header.</p>
<p>Now the single bits need to be connected in order to complete the flow back and forth between client and upstream. When linking <a href="../../../artefacts/offramps/#rest">REST offramps</a> and <a href="../../../artefacts/onramps/#rest">onramps</a> together it is important to take care that any error that might happen on the way is reported back to the REST onramp <code>http_in</code> as otherwise clients would not receive any response. Luckily with Linked Transports we can connect all error outputs easily in our binding and thus will receive proper error messages as HTTP responses.
Again, we do it in <code>config.yaml</code>:</p>
<div class="highlight"><pre><span></span><code><span class="nt">binding</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">main</span>
      <span class="nt">links</span><span class="p">:</span>
        <span class="s">&quot;/onramp/http_in/{instance}/out&quot;</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="s">&quot;/pipeline/request_handling/{instance}/in&quot;</span><span class="p p-Indicator">]</span>
        <span class="c1"># connect the three pipeline outputs to the offramps to our upstream servers</span>
        <span class="s">&quot;/pipeline/request_handling/{instance}/ws01&quot;</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="s">&quot;/offramp/upstream01/{instance}/in&quot;</span><span class="p p-Indicator">]</span>
        <span class="s">&quot;/pipeline/request_handling/{instance}/ws02&quot;</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="s">&quot;/offramp/upstream02/{instance}/in&quot;</span><span class="p p-Indicator">]</span>
        <span class="s">&quot;/pipeline/request_handling/{instance}/ws03&quot;</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="s">&quot;/offramp/upstream03/{instance}/in&quot;</span><span class="p p-Indicator">]</span>
        <span class="c1"># send responses from upstreams through the response handling pipeline</span>
        <span class="s">&quot;/offramp/upstream01/{instance}/out&quot;</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="s">&quot;/pipeline/response_handling/{instance}/in&quot;</span><span class="p p-Indicator">]</span>
        <span class="s">&quot;/offramp/upstream02/{instance}/out&quot;</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="s">&quot;/pipeline/response_handling/{instance}/in&quot;</span><span class="p p-Indicator">]</span>
        <span class="s">&quot;/offramp/upstream03/{instance}/out&quot;</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="s">&quot;/pipeline/response_handling/{instance}/in&quot;</span><span class="p p-Indicator">]</span>
        <span class="c1"># send responses back to the http_in onramp</span>
        <span class="s">&quot;/pipeline/response_handling/{instance}/out&quot;</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="s">&quot;/onramp/http_in/{instance}/in&quot;</span><span class="p p-Indicator">]</span>
        <span class="c1"># error handling - send errors back to the http_in onramp</span>
        <span class="s">&quot;/pipeline/request_handling/{instance}/err&quot;</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="s">&quot;/onramp/http_in/{instance}/in&quot;</span><span class="p p-Indicator">]</span>
        <span class="s">&quot;/pipeline/response_handling/{instance}/err&quot;</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="s">&quot;/onramp/http_in/{instance}/in&quot;</span><span class="p p-Indicator">]</span>
        <span class="s">&quot;/offramp/upstream01/{instance}/err&quot;</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="s">&quot;/pipeline/internal_error_processing/{instance}/in&quot;</span><span class="p p-Indicator">]</span>
        <span class="s">&quot;/offramp/upstream02/{instance}/err&quot;</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="s">&quot;/pipeline/internal_error_processing/{instance}/in&quot;</span><span class="p p-Indicator">]</span>
        <span class="s">&quot;/offramp/upstream03/{instance}/err&quot;</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="s">&quot;/pipeline/internal_error_processing/{instance}/in&quot;</span><span class="p p-Indicator">]</span>
        <span class="s">&quot;/pipeline/internal_error_processing/{instance}/out&quot;</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="s">&quot;onramp/http_in/{instance}/in&quot;</span><span class="p p-Indicator">]</span>
        <span class="s">&quot;/pipeline/internal_error_processing/{instance}/err&quot;</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="s">&quot;onramp/http_in/{instance}/in&quot;</span><span class="p p-Indicator">]</span>
<span class="nt">mapping</span><span class="p">:</span>
  <span class="nt">/binding/main/01</span><span class="p">:</span>
    <span class="nt">instance</span><span class="p">:</span> <span class="s">&quot;01&quot;</span>
</code></pre></div>
<h2 id="start-the-reverse-proxy-and-test-it">Start the Reverse Proxy and test it<a class="headerlink" href="#start-the-reverse-proxy-and-test-it" title="Permanent link">&para;</a></h2>
<p>We set up 3 upstream servers and tremor itself in the <code>docker-compose.yml</code>.
Starting them is straight-forward:</p>
<div class="highlight"><pre><span></span><code>$ docker compose up
</code></pre></div>
<p>In another shell, we fire up curl and send requests through our reverse proxy:</p>
<div class="highlight"><pre><span></span><code>$ curl -v -XGET http://localhost:65535/anything  -H<span class="s1">&#39;Content-Type: appliaction/json&#39;</span> -d <span class="s1">&#39;{&quot;snot&quot;: &quot;badger&quot;}&#39;</span>
*   Trying ::1...
* TCP_NODELAY <span class="nb">set</span>
* Connected to localhost <span class="o">(</span>::1<span class="o">)</span> port <span class="m">65535</span> <span class="o">(</span><span class="c1">#0)</span>
&gt; GET /anything HTTP/1.1
&gt; Host: localhost:65535
&gt; User-Agent: curl/7.64.1
&gt; Accept: */*
&gt; Content-Type: application/json
&gt; Content-Length: <span class="m">18</span>
&gt;
* upload completely sent off: <span class="m">18</span> out of <span class="m">18</span> bytes
&lt; HTTP/1.1 <span class="m">200</span> OK
&lt; content-length: <span class="m">549</span>
&lt; access-control-allow-origin: *
&lt; content-type: application/json
&lt; connection: keep-alive
&lt; server: gunicorn/19.9.0
&lt; date: Tue, <span class="m">06</span> Oct <span class="m">2020</span> <span class="m">15</span>:05:22 GMT
&lt; access-control-allow-credentials: <span class="nb">true</span>
&lt; via: <span class="m">1</span>.1 789e85f38adc/tremor
&lt;
* Connection <span class="c1">#0 to host localhost left intact</span>
<span class="o">{</span><span class="s2">&quot;args&quot;</span>:<span class="o">{}</span>,<span class="s2">&quot;data&quot;</span>:<span class="s2">&quot;{\&quot;snot\&quot;:\&quot;badger\&quot;,\&quot;forwarded\&quot;:\&quot;by=localhost:65535;host=localhost:65535;proto=http\&quot;}&quot;</span>,<span class="s2">&quot;files&quot;</span>:<span class="o">{}</span>,<span class="s2">&quot;form&quot;</span>:<span class="o">{}</span>,<span class="s2">&quot;headers&quot;</span>:<span class="o">{</span><span class="s2">&quot;Accept&quot;</span>:<span class="s2">&quot;*/*&quot;</span>,<span class="s2">&quot;Accept-Encoding&quot;</span>:<span class="s2">&quot;deflate, gzip&quot;</span>,<span class="s2">&quot;Content-Length&quot;</span>:<span class="s2">&quot;82&quot;</span>,<span class="s2">&quot;Content-Type&quot;</span>:<span class="s2">&quot;application/json&quot;</span>,<span class="s2">&quot;Expect&quot;</span>:<span class="s2">&quot;100-continue&quot;</span>,<span class="s2">&quot;Forwarded&quot;</span>:<span class="s2">&quot;by=localhost:65535;host=localhost:65535;proto=http&quot;</span>,<span class="s2">&quot;Host&quot;</span>:<span class="s2">&quot;webserver01&quot;</span>,<span class="s2">&quot;User-Agent&quot;</span>:<span class="s2">&quot;curl/7.64.1&quot;</span><span class="o">}</span>,<span class="s2">&quot;json&quot;</span>:<span class="o">{</span><span class="s2">&quot;forwarded&quot;</span>:<span class="s2">&quot;by=localhost:65535;host=localhost:65535;proto=http&quot;</span>,<span class="s2">&quot;snot&quot;</span>:<span class="s2">&quot;badger&quot;</span><span class="o">}</span>,<span class="s2">&quot;method&quot;</span>:<span class="s2">&quot;GET&quot;</span>,<span class="s2">&quot;origin&quot;</span>:<span class="s2">&quot;172.19.0.5&quot;</span>,<span class="s2">&quot;url&quot;</span>:<span class="s2">&quot;http://webserver01/anything&quot;</span><span class="o">}</span>
</code></pre></div>
<p>The tremor reverse-proxy added the <code>forwarded</code> field and header to the request (See the <code>data</code> amd <code>headers</code> fields of the response body) and passed through the response body from the upstream.</p>
<p>In the case of an upstream failing, the <code>qos::backpressure</code> operators will kick in and discard events for the failed upstream.</p>
<p>Here is an example response for the case an upstream is not reachable:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span><span class="nt">&quot;error&quot;</span><span class="p">:</span><span class="s2">&quot;ConnectFailed: failed to connect to the server&quot;</span><span class="p">,</span><span class="nt">&quot;event_id&quot;</span><span class="p">:</span><span class="s2">&quot;1: 4&quot;</span><span class="p">}</span>
</code></pre></div>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        <a href="../34_bridges_lt_http_ws/" class="md-footer__link md-footer__link--prev" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              HTTP -> WS Bridge
            </div>
          </div>
        </a>
      
      
        <a href="../36_quota_service/" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Quota Service
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../../../assets/javascripts/workers/search.fe42c31b.min.js", "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.4ea5477f.min.js"></script>
      
    
  </body>
</html>